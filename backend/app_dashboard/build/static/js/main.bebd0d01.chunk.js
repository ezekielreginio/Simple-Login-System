(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{16:function(e,n,a){},18:function(e,n,a){"use strict";a.r(n);var t=a(1),s=a.n(t),o=a(7),l=a.n(o),c=(a(16),a(3)),r=(a(6),a(5)),i=a(8),d=a(9),m=a(2),j=a(11),u=a(10),p=a(0);function b(e){if("login"===e.component.state.form)return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("form",{id:"form-admin",action:"../process/admin-login.php",method:"POST",children:[Object(p.jsx)("div",{id:"admin-login-alert-box"}),Object(p.jsx)("div",{className:"mb-3",children:Object(p.jsx)("input",{className:"form-control form-control-lg",type:"text",name:"login",placeholder:"Email",value:e.component.state.credentials.login,onChange:e.component.inputChanged})}),Object(p.jsx)("div",{className:"mb-3",children:Object(p.jsx)("input",{className:"form-control form-control-lg",type:"password",name:"password",placeholder:"Password",value:e.component.state.credentials.password,onChange:e.component.inputChanged})}),Object(p.jsx)("button",{type:"button",id:"btn-signin",className:"btn btn-lg btn-primary btn-block mr-2 my-3",onClick:e.component.login,children:"Sign in"})]}),Object(p.jsxs)("p",{children:["Not Registered? ",Object(p.jsx)("span",{className:"underlined text-primary pointer",id:"link-signup",onClick:e.component.handleClick,children:"Create an Account Here"})]})]});if("signup"===e.component.state.form){var n=e.component.state;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("form",{id:"form-admin",action:"../process/admin-login.php",method:"POST",children:[Object(p.jsx)("div",{id:"admin-login-alert-box"}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("input",{className:n.first_name.valid?"form-control form-control-lg":"form-control form-control-lg is-invalid",type:"text",name:"first_name",id:"first_name",placeholder:"First Name",value:n.first_name.value,onChange:e.component.changeHandler}),Object(p.jsx)("div",{className:"invalid-feedback text-left",children:n.first_name.message})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("input",{className:n.last_name.valid?"form-control form-control-lg":"form-control form-control-lg is-invalid",type:"text",name:"last_name",id:"last_name",placeholder:"Last Name",value:n.last_name.value,onChange:e.component.changeHandler}),Object(p.jsx)("div",{className:"invalid-feedback text-left",children:n.last_name.message})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("input",{className:n.email.valid?"form-control form-control-lg":"form-control form-control-lg is-invalid",type:"email",name:"email",id:"email",placeholder:"Email",value:n.email.value,onChange:e.component.changeHandler}),Object(p.jsx)("div",{className:"invalid-feedback text-left",children:n.email.message})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("input",{className:n.username.valid?"form-control form-control-lg":"form-control form-control-lg is-invalid",type:"text",name:"username",id:"username",placeholder:"Username",value:n.username.value,onChange:e.component.changeHandler}),Object(p.jsx)("div",{className:"invalid-feedback text-left",children:n.username.message})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("input",{className:n.password1.valid?"form-control form-control-lg":"form-control form-control-lg is-invalid",type:"password",name:"password1",id:"password1",placeholder:"Password",value:n.password1.value,onChange:e.component.changeHandler}),Object(p.jsx)("div",{className:"invalid-feedback text-left",children:n.password1.message})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("input",{className:n.password2.valid?"form-control form-control-lg":"form-control form-control-lg is-invalid",type:"password",name:"password2",id:"password2",placeholder:"Re-enter Password",value:n.password2.value,onChange:e.component.changeHandler}),Object(p.jsx)("div",{className:"invalid-feedback text-left",children:n.password2.message})]}),Object(p.jsx)("button",{type:"button",id:"btn-signin",className:"btn btn-lg btn-primary btn-block mr-2 my-3",onClick:e.component.register,children:"Sign up"})]}),Object(p.jsxs)("p",{children:["Already Registered? ",Object(p.jsx)("span",{className:"underlined text-primary pointer",id:"link-signup",onClick:e.component.handleClick,children:"Click Here to Login"})]})]})}}function g(e){var n=null;if(document.cookie&&""!==document.cookie)for(var a=document.cookie.split(";"),t=0;t<a.length;t++){var s=a[t].trim();if(s.substring(0,e.length+1)===e+"="){n=decodeURIComponent(s.substring(e.length+1));break}}return n}var h=function(e){Object(j.a)(a,e);var n=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return(e=n.call.apply(n,[this].concat(s))).state={form:"login",first_name:{value:"",valid:!0,message:""},last_name:{value:"",valid:!0,message:""},email:{value:"",valid:!0,message:""},username:{value:"",valid:!0,message:""},password1:{value:"",valid:!0,message:""},password2:{value:"",valid:!0,message:""},credentials:{login:"",password:""}},e.login=function(n){var a=new FormData,t=e.state.credentials;for(var s in t)a.append(s,t[s]);fetch("http://127.0.0.1:8000/login/",{method:"POST",headers:{"X-CSRFToken":g("csrftoken")},body:a}).then((function(e){return e.json()})).then((function(e){200==e.code?window.location.replace("./dashboard"):403==e.code&&(document.getElementById("admin-login-alert-box").innerHTML='\n                <div class="alert alert-danger" role="alert">\n                    Invalid Username/Password Please Try Again...\n                </div>\n                ')})).catch((function(e){return console.error(e)}))},e.register=function(n){var a=new FormData,t=Object(m.a)(e);console.log(e.state),Object.entries(e.state).map((function(e){var n=Object(c.a)(e,2),t=n[0],s=n[1];return a.append(t,s.value)})),fetch("http://127.0.0.1:8000/register/",{method:"POST",headers:{"X-CSRFToken":g("csrftoken")},body:a}).then((function(e){return e.json()})).then((function(e){200==e.data.code?window.location.replace("./dashboard"):Object.keys(e.data).forEach((function(n){var a=t.state;a[n].valid=!1,a[n].message=e.data[n][0].message,t.setState(Object(r.a)({},n,a[n]))}))})).catch((function(e){return console.error(e)}))},e.changeHandler=function(n){e.setState(Object(r.a)({},n.target.name,{value:n.target.value,valid:!!n.target.value}))},e.inputChanged=function(n){var a=e.state.credentials;a[n.target.name]=n.target.value,e.setState({credentials:a})},e.inputAccChanged=function(n){var a=e.state.account;a[n.target.name].value=n.target.value,e.setState({credentials:a})},e.handleClick=function(){"login"===e.state.form?e.setState({form:"signup"}):"signup"===e.state.form&&e.setState({form:"login"})},e}return Object(d.a)(a,[{key:"render",value:function(){return Object(p.jsx)("div",{className:"d-flex w-100",children:Object(p.jsx)("div",{className:"container d-flex flex-column",children:Object(p.jsx)("div",{className:"row vh-100",children:Object(p.jsx)("div",{className:"col-sm-10 col-md-8 col-lg-6 mx-auto d-table h-100",children:Object(p.jsxs)("div",{className:"d-table-cell align-middle",children:[Object(p.jsxs)("div",{className:"text-center mt-4",children:[Object(p.jsx)("h1",{className:"h2",children:"Sample Login-Registration System"}),Object(p.jsx)("p",{className:"lead",children:"Developed by: Ezekiel Reginio"})]}),Object(p.jsx)("div",{className:"card",children:Object(p.jsx)("div",{className:"card-body",id:"card-body",children:Object(p.jsx)("div",{className:"m-sm-4",id:"card-form",children:Object(p.jsx)(b,{component:this})})})})]})})})})})}}]),a}(t.Component);var v=function(){var e=Object(t.useState)(""),n=Object(c.a)(e,2),a=(n[0],n[1]);return Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(h,{userLogin:function(e){a(e)}})})},f=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,19)).then((function(n){var a=n.getCLS,t=n.getFID,s=n.getFCP,o=n.getLCP,l=n.getTTFB;a(e),t(e),s(e),o(e),l(e)}))};l.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(v,{})}),document.getElementById("root")),f()},6:function(e,n,a){}},[[18,1,2]]]);
//# sourceMappingURL=main.bebd0d01.chunk.js.map