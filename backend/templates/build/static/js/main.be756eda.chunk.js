(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{16:function(e,n,t){},18:function(e,n,t){"use strict";t.r(n);var a=t(1),s=t.n(a),o=t(7),l=t.n(o),c=(t(16),t(3)),r=(t(6),t(5)),i=t(8),d=t(9),m=t(2),j=t(11),u=t(10),b=t(0);function g(e){if("login"===e.component.state.form)return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("form",{id:"form-admin",method:"POST",children:[Object(b.jsx)("div",{id:"admin-login-alert-box"}),Object(b.jsx)("div",{className:"mb-3",children:Object(b.jsx)("input",{className:"form-control form-control-lg",type:"text",name:"login",placeholder:"Email",value:e.component.state.credentials.login,onChange:e.component.inputChanged})}),Object(b.jsx)("div",{className:"mb-3",children:Object(b.jsx)("input",{className:"form-control form-control-lg",type:"password",name:"password",placeholder:"Password",value:e.component.state.credentials.password,onChange:e.component.inputChanged})}),Object(b.jsx)("button",{type:"button",id:"btn-signin",className:"btn btn-lg btn-primary btn-block mr-2 my-3",onClick:e.component.login,children:"Sign in"})]}),Object(b.jsxs)("p",{children:["Not Registered? ",Object(b.jsx)("span",{className:"underlined text-primary pointer",id:"link-signup",onClick:e.component.handleClick,children:"Create an Account Here"})]})]});if("signup"===e.component.state.form){var n=e.component.state;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("form",{id:"form-admin",method:"POST",children:[Object(b.jsx)("div",{id:"admin-login-alert-box"}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("input",{className:n.first_name.valid?"form-control form-control-lg":"form-control form-control-lg is-invalid",type:"text",name:"first_name",id:"first_name",placeholder:"First Name",value:n.first_name.value,onChange:e.component.changeHandler}),Object(b.jsx)("div",{className:"invalid-feedback text-left",children:n.first_name.message})]}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("input",{className:n.last_name.valid?"form-control form-control-lg":"form-control form-control-lg is-invalid",type:"text",name:"last_name",id:"last_name",placeholder:"Last Name",value:n.last_name.value,onChange:e.component.changeHandler}),Object(b.jsx)("div",{className:"invalid-feedback text-left",children:n.last_name.message})]}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("input",{className:n.email.valid?"form-control form-control-lg":"form-control form-control-lg is-invalid",type:"email",name:"email",id:"email",placeholder:"Email",value:n.email.value,onChange:e.component.changeHandler}),Object(b.jsx)("div",{className:"invalid-feedback text-left",children:n.email.message})]}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("input",{className:n.username.valid?"form-control form-control-lg":"form-control form-control-lg is-invalid",type:"text",name:"username",id:"username",placeholder:"Username",value:n.username.value,onChange:e.component.changeHandler}),Object(b.jsx)("div",{className:"invalid-feedback text-left",children:n.username.message})]}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("input",{className:n.password1.valid?"form-control form-control-lg":"form-control form-control-lg is-invalid",type:"password",name:"password1",id:"password1",placeholder:"Password",value:n.password1.value,onChange:e.component.changeHandler}),Object(b.jsx)("div",{className:"invalid-feedback text-left",children:n.password1.message})]}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("input",{className:n.password2.valid?"form-control form-control-lg":"form-control form-control-lg is-invalid",type:"password",name:"password2",id:"password2",placeholder:"Re-enter Password",value:n.password2.value,onChange:e.component.changeHandler}),Object(b.jsx)("div",{className:"invalid-feedback text-left",children:n.password2.message})]}),Object(b.jsx)("button",{type:"button",id:"btn-signin",className:"btn btn-lg btn-primary btn-block mr-2 my-3",onClick:e.component.register,children:"Sign up"})]}),Object(b.jsxs)("p",{children:["Already Registered? ",Object(b.jsx)("span",{className:"underlined text-primary pointer",id:"link-signup",onClick:e.component.handleClick,children:"Click Here to Login"})]})]})}}function p(e){var n=null;if(document.cookie&&""!==document.cookie)for(var t=document.cookie.split(";"),a=0;a<t.length;a++){var s=t[a].trim();if(s.substring(0,e.length+1)===e+"="){n=decodeURIComponent(s.substring(e.length+1));break}}return n}var v=function(e){Object(j.a)(t,e);var n=Object(u.a)(t);function t(){var e;Object(i.a)(this,t);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(e=n.call.apply(n,[this].concat(s))).state={form:"login",first_name:{value:"",valid:!0,message:""},last_name:{value:"",valid:!0,message:""},email:{value:"",valid:!0,message:""},username:{value:"",valid:!0,message:""},password1:{value:"",valid:!0,message:""},password2:{value:"",valid:!0,message:""},credentials:{login:"",password:""}},e.login=function(n){var t=new FormData,a=e.state.credentials;for(var s in a)t.append(s,a[s]);fetch("http://127.0.0.1:8000/login/",{method:"POST",headers:{"X-CSRFToken":p("csrftoken")},body:t}).then((function(e){return e.json()})).then((function(e){200==e.code?window.location.replace("./dashboard"):403==e.code&&(document.getElementById("admin-login-alert-box").innerHTML='\n                <div class="alert alert-danger" role="alert">\n                    Invalid Username/Password Please Try Again...\n                </div>\n                ')})).catch((function(e){return console.error(e)}))},e.register=function(n){var t=new FormData,a=Object(m.a)(e);console.log(e.state),Object.entries(e.state).map((function(e){var n=Object(c.a)(e,2),a=n[0],s=n[1];return t.append(a,s.value)})),fetch("http://127.0.0.1:8000/register/",{method:"POST",headers:{"X-CSRFToken":p("csrftoken")},body:t}).then((function(e){return e.json()})).then((function(e){200==e.data.code?window.location.replace("./dashboard"):Object.keys(e.data).forEach((function(n){var t=a.state;t[n].valid=!1,t[n].message=e.data[n][0].message,a.setState(Object(r.a)({},n,t[n]))}))})).catch((function(e){return console.error(e)}))},e.changeHandler=function(n){e.setState(Object(r.a)({},n.target.name,{value:n.target.value,valid:!!n.target.value}))},e.inputChanged=function(n){var t=e.state.credentials;t[n.target.name]=n.target.value,e.setState({credentials:t})},e.inputAccChanged=function(n){var t=e.state.account;t[n.target.name].value=n.target.value,e.setState({credentials:t})},e.handleClick=function(){"login"===e.state.form?e.setState({form:"signup"}):"signup"===e.state.form&&e.setState({form:"login"})},e}return Object(d.a)(t,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"d-flex w-100",children:Object(b.jsx)("div",{className:"container d-flex flex-column",children:Object(b.jsx)("div",{className:"row vh-100",children:Object(b.jsx)("div",{className:"col-sm-10 col-md-8 col-lg-6 mx-auto d-table h-100",children:Object(b.jsxs)("div",{className:"d-table-cell align-middle",children:[Object(b.jsxs)("div",{className:"text-center mt-4",children:[Object(b.jsx)("h1",{className:"h2",children:"Sample Login-Registration System"}),Object(b.jsx)("p",{className:"lead",children:"Developed by: Ezekiel Reginio"})]}),Object(b.jsx)("div",{className:"card",children:Object(b.jsx)("div",{className:"card-body",id:"card-body",children:Object(b.jsx)("div",{className:"m-sm-4",id:"card-form",children:Object(b.jsx)(g,{component:this})})})})]})})})})})}}]),t}(a.Component);var f=function(){var e=Object(a.useState)(""),n=Object(c.a)(e,2),t=(n[0],n[1]);return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(v,{userLogin:function(e){t(e)}})})},h=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,19)).then((function(n){var t=n.getCLS,a=n.getFID,s=n.getFCP,o=n.getLCP,l=n.getTTFB;t(e),a(e),s(e),o(e),l(e)}))};l.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(f,{})}),document.getElementById("root")),h()},6:function(e,n,t){}},[[18,1,2]]]);
//# sourceMappingURL=main.be756eda.chunk.js.map